{
  "version": 4,
  "terraform_version": "1.7.5",
  "serial": 26,
  "lineage": "60f9e84e-8671-f8d5-3d3a-b85359ec0440",
  "outputs": {},
  "resources": [
    {
      "module": "module.api",
      "mode": "managed",
      "type": "yandex_compute_instance",
      "name": "vm-1",
      "provider": "module.api.provider[\"registry.terraform.io/yandex-cloud/yandex\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "allow_recreate": null,
            "allow_stopping_for_update": null,
            "boot_disk": [
              {
                "auto_delete": true,
                "device_name": "fhm5lvo64ej0m3g2s4jg",
                "disk_id": "fhm5lvo64ej0m3g2s4jg",
                "initialize_params": [
                  {
                    "block_size": 4096,
                    "description": "",
                    "image_id": "fd8up8dttk3bopfkqho6",
                    "name": "",
                    "size": 10,
                    "snapshot_id": "",
                    "type": "network-hdd"
                  }
                ],
                "mode": "READ_WRITE"
              }
            ],
            "created_at": "2024-04-12T12:46:27Z",
            "description": "",
            "filesystem": [],
            "folder_id": "b1g68mcmoms86hiq32hh",
            "fqdn": "fhmtkuqi145iro2csqm2.auto.internal",
            "gpu_cluster_id": "",
            "hostname": "",
            "id": "fhmtkuqi145iro2csqm2",
            "labels": null,
            "local_disk": [],
            "maintenance_grace_period": "",
            "maintenance_policy": null,
            "metadata": {
              "ssh-keys": "ubuntu:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQC5Go2XuzVPCeNdDBL7fK+pjmW8lbCMhdhmHHzDGcLARPJq/bRi8TIyE+s4abcMRU9TAnu92Yb0B+VnAqvHihSmz1Md25EYN08zRhHp74157PvqrOK4j6T/vBR8s0u6MD500fNx0ZAElrwPP7dfQP+63VJpsjLdnBL2oM6FwJJBZ0p5qECl1+/GtV6lt9mOMsewKySrc5eOEcRZTk5y11YbtImhxyEBNmB+mGaK8kUpZeVEFDMGk3EvzCzVm+6JGDsIXkQ3KT966tcBrKLGngGjJNDTvmNQIc3Zd+i5gU23+rgwD50d86r+WBbT0zURmfG7rQAC1RdPW7W/89s723M89K5AoZLV/i6/XQ/y2ekC9v3uPVS9BPiNwQjg+uLUkurXkGTFUPj6Uv3GurqSdm0sdl8ueYBh0tywRzbqrIZVttLFxVXKV2TBC/lZ096B31KbUz+LwU74ViMYCybU8u3ty6VskD0I3sn/avlyUqqEZPBOLRVOYt2zLvxp4p+svrE= avtrokhachev@i106040781\n",
              "user-data": "#cloud-config\nssh_pwauth: no\nusers:\n  - name: avtrokhachev\n    sudo: ALL=(ALL) NOPASSWD:ALL\n    shell: /bin/bash\n    ssh-authorized-keys:\n      - \"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQC5Go2XuzVPCeNdDBL7fK+pjmW8lbCMhdhmHHzDGcLARPJq/bRi8TIyE+s4abcMRU9TAnu92Yb0B+VnAqvHihSmz1Md25EYN08zRhHp74157PvqrOK4j6T/vBR8s0u6MD500fNx0ZAElrwPP7dfQP+63VJpsjLdnBL2oM6FwJJBZ0p5qECl1+/GtV6lt9mOMsewKySrc5eOEcRZTk5y11YbtImhxyEBNmB+mGaK8kUpZeVEFDMGk3EvzCzVm+6JGDsIXkQ3KT966tcBrKLGngGjJNDTvmNQIc3Zd+i5gU23+rgwD50d86r+WBbT0zURmfG7rQAC1RdPW7W/89s723M89K5AoZLV/i6/XQ/y2ekC9v3uPVS9BPiNwQjg+uLUkurXkGTFUPj6Uv3GurqSdm0sdl8ueYBh0tywRzbqrIZVttLFxVXKV2TBC/lZ096B31KbUz+LwU74ViMYCybU8u3ty6VskD0I3sn/avlyUqqEZPBOLRVOYt2zLvxp4p+svrE= avtrokhachev@i106040781\"\n\nruncmd:\n  - [\"docker\", \"run\", \"--detach\", \"--publish\", \"80:80\", \"cr.yandex/crpoqe2ki2gq5j0p88mp/steam_items_api:latest\"]\n"
            },
            "metadata_options": [
              {
                "aws_v1_http_endpoint": 1,
                "aws_v1_http_token": 2,
                "gce_http_endpoint": 1,
                "gce_http_token": 1
              }
            ],
            "name": "steam-items-api",
            "network_acceleration_type": "standard",
            "network_interface": [
              {
                "dns_record": [],
                "index": 0,
                "ip_address": "10.5.0.5",
                "ipv4": true,
                "ipv6": false,
                "ipv6_address": "",
                "ipv6_dns_record": [],
                "mac_address": "d0:0d:1d:a7:b5:20",
                "nat": true,
                "nat_dns_record": [],
                "nat_ip_address": "158.160.61.242",
                "nat_ip_version": "IPV4",
                "security_group_ids": [],
                "subnet_id": "e9bs6mjq9q5di1ltac2g"
              }
            ],
            "placement_policy": [
              {
                "host_affinity_rules": [],
                "placement_group_id": "",
                "placement_group_partition": 0
              }
            ],
            "platform_id": "standard-v1",
            "resources": [
              {
                "core_fraction": 100,
                "cores": 2,
                "gpus": 0,
                "memory": 2
              }
            ],
            "scheduling_policy": [
              {
                "preemptible": false
              }
            ],
            "secondary_disk": [],
            "service_account_id": "",
            "status": "running",
            "timeouts": null,
            "zone": "ru-central1-a"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjMwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "module.api-static-addr.data.yandex_vpc_address.addr",
            "module.database-network.yandex_vpc_network.network-database",
            "module.database-network.yandex_vpc_subnet.subnet-database"
          ]
        }
      ]
    },
    {
      "module": "module.api-network",
      "mode": "managed",
      "type": "yandex_vpc_network",
      "name": "network-api",
      "provider": "module.api-network.provider[\"registry.terraform.io/yandex-cloud/yandex\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "created_at": "2024-04-12T09:53:43Z",
            "default_security_group_id": "enphvi8giq0rr5u56kku",
            "description": "",
            "folder_id": "b1g68mcmoms86hiq32hh",
            "id": "enpdr95aqbsuhssg2cbr",
            "labels": {},
            "name": "network-api",
            "subnet_ids": [
              "e9bmm3ej8nio0sha1nbd"
            ],
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMCwiZGVsZXRlIjo2MDAwMDAwMDAwMCwidXBkYXRlIjo2MDAwMDAwMDAwMH19"
        }
      ]
    },
    {
      "module": "module.api-network",
      "mode": "managed",
      "type": "yandex_vpc_subnet",
      "name": "subnet-api",
      "provider": "module.api-network.provider[\"registry.terraform.io/yandex-cloud/yandex\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "created_at": "2024-04-12T09:53:45Z",
            "description": "",
            "dhcp_options": [],
            "folder_id": "b1g68mcmoms86hiq32hh",
            "id": "e9bmm3ej8nio0sha1nbd",
            "labels": {},
            "name": "subnet-api",
            "network_id": "enpdr95aqbsuhssg2cbr",
            "route_table_id": "",
            "timeouts": null,
            "v4_cidr_blocks": [
              "10.2.0.0/16"
            ],
            "v6_cidr_blocks": [],
            "zone": "ru-central1-a"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAsImRlbGV0ZSI6MTgwMDAwMDAwMDAwLCJ1cGRhdGUiOjE4MDAwMDAwMDAwMH19",
          "dependencies": [
            "module.api-network.yandex_vpc_network.network-api"
          ]
        }
      ]
    },
    {
      "module": "module.api-static-addr",
      "mode": "data",
      "type": "yandex_vpc_address",
      "name": "addr",
      "provider": "module.api-static-addr.provider[\"registry.terraform.io/yandex-cloud/yandex\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "address_id": "e9b0prh5f4h8ebrd9jen",
            "created_at": "2024-04-11T12:42:21Z",
            "deletion_protection": true,
            "description": "",
            "dns_record": [],
            "external_ipv4_address": [
              {
                "address": "158.160.61.242",
                "ddos_protection_provider": "",
                "outgoing_smtp_capability": "",
                "zone_id": "ru-central1-a"
              }
            ],
            "folder_id": "b1g68mcmoms86hiq32hh",
            "id": "e9b0prh5f4h8ebrd9jen",
            "labels": {},
            "name": "api-steam-items-static-ip-addr",
            "reserved": true,
            "used": false
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.database",
      "mode": "managed",
      "type": "yandex_mdb_postgresql_cluster",
      "name": "postgres",
      "provider": "module.database.provider[\"registry.terraform.io/yandex-cloud/yandex\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "config": [
              {
                "access": [
                  {
                    "data_lens": false,
                    "data_transfer": false,
                    "serverless": false,
                    "web_sql": false
                  }
                ],
                "autofailover": true,
                "backup_retain_period_days": 7,
                "backup_window_start": [
                  {
                    "hours": 0,
                    "minutes": 0
                  }
                ],
                "disk_size_autoscaling": [
                  {
                    "disk_size_limit": 0,
                    "emergency_usage_threshold": 0,
                    "planned_usage_threshold": 0
                  }
                ],
                "performance_diagnostics": [
                  {
                    "enabled": false,
                    "sessions_sampling_interval": 1,
                    "statements_sampling_interval": 60
                  }
                ],
                "pooler_config": [],
                "postgresql_config": {
                  "autovacuum_vacuum_scale_factor": "0.34",
                  "default_transaction_isolation": "TRANSACTION_ISOLATION_READ_COMMITTED",
                  "enable_parallel_hash": "true",
                  "max_connections": "500",
                  "password_encryption": "0",
                  "shared_preload_libraries": "SHARED_PRELOAD_LIBRARIES_AUTO_EXPLAIN,SHARED_PRELOAD_LIBRARIES_PG_HINT_PLAN"
                },
                "resources": [
                  {
                    "disk_size": 100,
                    "disk_type_id": "network-ssd",
                    "resource_preset_id": "c3-c4-m8"
                  }
                ],
                "version": "15"
              }
            ],
            "created_at": "2024-04-12T11:51:57Z",
            "database": [
              {
                "extension": [],
                "lc_collate": "C",
                "lc_type": "C",
                "name": "postgres-api",
                "owner": "api-postgres",
                "template_db": ""
              }
            ],
            "deletion_protection": false,
            "description": "",
            "environment": "PRODUCTION",
            "folder_id": "b1g68mcmoms86hiq32hh",
            "health": "ALIVE",
            "host": [
              {
                "assign_public_ip": false,
                "fqdn": "rc1a-rdcngsy6duv7jpq3.mdb.yandexcloud.net",
                "name": "",
                "priority": 0,
                "replication_source": "",
                "replication_source_name": "",
                "role": "MASTER",
                "subnet_id": "e9bs6mjq9q5di1ltac2g",
                "zone": "ru-central1-a"
              }
            ],
            "host_group_ids": [],
            "host_master_name": "",
            "id": "c9q3qgo9c6nskffsgtvu",
            "labels": {},
            "maintenance_window": [
              {
                "day": "",
                "hour": 0,
                "type": "ANYTIME"
              }
            ],
            "name": "steam-items",
            "network_id": "enpmaalvqfarbsndebvs",
            "restore": [],
            "security_group_ids": [],
            "status": "RUNNING",
            "timeouts": null,
            "user": [
              {
                "conn_limit": 480,
                "grants": [],
                "login": true,
                "name": "api-postgres",
                "password": "api-postgres-password",
                "permission": [
                  {
                    "database_name": "postgres-api"
                  }
                ],
                "settings": {
                  "default_transaction_isolation": "read committed",
                  "log_min_duration_statement": "5000"
                }
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjkwMDAwMDAwMDAwMCwidXBkYXRlIjozNjAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "module.database-network.yandex_vpc_network.network-database",
            "module.database-network.yandex_vpc_subnet.subnet-database"
          ]
        }
      ]
    },
    {
      "module": "module.database-network",
      "mode": "managed",
      "type": "yandex_vpc_network",
      "name": "network-database",
      "provider": "module.database-network.provider[\"registry.terraform.io/yandex-cloud/yandex\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "created_at": "2024-04-12T11:07:36Z",
            "default_security_group_id": "enp6sbkpf6fse0t3v4mm",
            "description": "",
            "folder_id": "b1g68mcmoms86hiq32hh",
            "id": "enpmaalvqfarbsndebvs",
            "labels": {},
            "name": "network-database",
            "subnet_ids": [
              "e9bs6mjq9q5di1ltac2g"
            ],
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMCwiZGVsZXRlIjo2MDAwMDAwMDAwMCwidXBkYXRlIjo2MDAwMDAwMDAwMH19"
        }
      ]
    },
    {
      "module": "module.database-network",
      "mode": "managed",
      "type": "yandex_vpc_subnet",
      "name": "subnet-database",
      "provider": "module.database-network.provider[\"registry.terraform.io/yandex-cloud/yandex\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "created_at": "2024-04-12T11:07:38Z",
            "description": "",
            "dhcp_options": [],
            "folder_id": "b1g68mcmoms86hiq32hh",
            "id": "e9bs6mjq9q5di1ltac2g",
            "labels": {},
            "name": "subnet-database",
            "network_id": "enpmaalvqfarbsndebvs",
            "route_table_id": "",
            "timeouts": null,
            "v4_cidr_blocks": [
              "10.5.0.0/16"
            ],
            "v6_cidr_blocks": [],
            "zone": "ru-central1-a"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAsImRlbGV0ZSI6MTgwMDAwMDAwMDAwLCJ1cGRhdGUiOjE4MDAwMDAwMDAwMH19",
          "dependencies": [
            "module.database-network.yandex_vpc_network.network-database"
          ]
        }
      ]
    }
  ],
  "check_results": null
}
